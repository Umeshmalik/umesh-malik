@import '@fontsource-variable/inter';
@import '@fontsource-variable/jetbrains-mono';
@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@theme {
	--font-display: 'Inter Variable', 'Inter', system-ui, sans-serif;
	--font-sans: 'Inter Variable', 'Inter', system-ui, sans-serif;
	--font-mono: 'JetBrains Mono Variable', 'JetBrains Mono', monospace;

	--color-brand-black: #000000;
	--color-brand-white: #ffffff;
	--color-brand-accent: #C09E5A;
	--color-brand-accent-hover: #B8914F;
	--color-brand-accent-light: #D4B575;
	--color-brand-border: #2B2B2B;
	--color-brand-surface: rgba(43, 43, 43, 0.08);
	--color-brand-card: rgba(10, 10, 10, 0.5);
	--color-brand-card-border: rgba(255, 255, 255, 0.1);
	--color-brand-text-primary: #ffffff;
	--color-brand-text-secondary: rgba(255, 255, 255, 0.6);
	--color-brand-text-muted: rgba(255, 255, 255, 0.5);
}

html {
	scroll-behavior: smooth;
	scroll-padding-top: 96px;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

body {
	font-family: var(--font-sans);
	color: var(--color-brand-text-primary);
	background-color: var(--color-brand-black);
}

::selection {
	background-color: var(--color-brand-accent);
	color: var(--color-brand-black);
}

*:focus-visible {
	outline: 2px solid var(--color-brand-accent);
	outline-offset: 2px;
}

/* Label / mono uppercase style */
.label-mono {
	font-family: var(--font-mono);
	font-size: 12px;
	font-weight: 400;
	text-transform: uppercase;
	letter-spacing: 0.12em;
}

/* Hero headline style */
.hero-headline {
	font-size: clamp(40px, 7vw, 100px);
	font-weight: 400;
	line-height: 1;
	letter-spacing: -1.5px;
}

/* Section title style */
.section-title {
	font-size: clamp(40px, 6vw, 90px);
	font-weight: 400;
	line-height: 1;
	letter-spacing: -2.7px;
}

/* Body large */
.body-large {
	font-size: clamp(18px, 2vw, 20px);
	font-weight: 300;
	line-height: 1.4;
}

/* Body medium */
.body-medium {
	font-size: 16px;
	font-weight: 300;
	line-height: 1.5;
}

/* Corner bracket card decoration */
.corner-brackets {
	position: relative;
}

.corner-brackets::before,
.corner-brackets::after {
	content: '';
	position: absolute;
	width: 16px;
	height: 16px;
	pointer-events: none;
}

.corner-brackets::before {
	top: -1px;
	left: -1px;
	border-top: 1.5px solid var(--color-brand-accent);
	border-left: 1.5px solid var(--color-brand-accent);
}

.corner-brackets::after {
	bottom: -1px;
	right: -1px;
	border-bottom: 1.5px solid var(--color-brand-accent);
	border-right: 1.5px solid var(--color-brand-accent);
}

/* Additional corner brackets for all four corners */
.corner-brackets-full {
	position: relative;
}

.corner-brackets-full::before,
.corner-brackets-full::after {
	content: '';
	position: absolute;
	width: 16px;
	height: 16px;
	pointer-events: none;
}

.corner-brackets-full::before {
	top: -1px;
	left: -1px;
	border-top: 1.5px solid var(--color-brand-accent);
	border-left: 1.5px solid var(--color-brand-accent);
}

.corner-brackets-full::after {
	bottom: -1px;
	right: -1px;
	border-bottom: 1.5px solid var(--color-brand-accent);
	border-right: 1.5px solid var(--color-brand-accent);
}

/* Gold radial glow */
.gold-glow {
	background: radial-gradient(
		ellipse 50% 50% at 50% 50%,
		rgba(192, 158, 90, 0.06) 0%,
		transparent 70%
	);
}

/* Button with animated corner brackets */
.btn-brackets {
	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	font-family: var(--font-mono);
	font-size: 12px;
	text-transform: uppercase;
	letter-spacing: 0.12em;
	min-height: 40px;
	padding: 9px 16px;
	cursor: pointer;
	transition: color 0.3s ease, background-color 0.3s ease;
}

.btn-brackets::before,
.btn-brackets::after {
	content: '';
	position: absolute;
	width: 12px;
	height: 12px;
	transition: width 0.3s ease, height 0.3s ease;
	pointer-events: none;
}

.btn-brackets::before {
	top: 0;
	left: 0;
	border-top: 1.5px solid currentColor;
	border-left: 1.5px solid currentColor;
}

.btn-brackets::after {
	bottom: 0;
	right: 0;
	border-bottom: 1.5px solid currentColor;
	border-right: 1.5px solid currentColor;
}

.btn-brackets:hover::before,
.btn-brackets:hover::after {
	width: 100%;
	height: 100%;
}

/* Prose overrides for dark theme */
.prose {
	--tw-prose-body: rgba(255, 255, 255, 0.7);
	--tw-prose-headings: #ffffff;
	--tw-prose-lead: rgba(255, 255, 255, 0.7);
	--tw-prose-links: #C09E5A;
	--tw-prose-bold: #ffffff;
	--tw-prose-counters: rgba(255, 255, 255, 0.5);
	--tw-prose-bullets: rgba(255, 255, 255, 0.5);
	--tw-prose-hr: #2B2B2B;
	--tw-prose-quotes: rgba(255, 255, 255, 0.8);
	--tw-prose-quote-borders: #C09E5A;
	--tw-prose-captions: rgba(255, 255, 255, 0.5);
	--tw-prose-code: #D4B575;
	--tw-prose-pre-code: rgba(255, 255, 255, 0.8);
	--tw-prose-pre-bg: rgba(43, 43, 43, 0.5);
	--tw-prose-th-borders: #2B2B2B;
	--tw-prose-td-borders: rgba(43, 43, 43, 0.5);
}

.prose img {
	max-height: 480px;
	width: auto;
	max-width: 100%;
	margin-left: auto;
	margin-right: auto;
	border-radius: 8px;
	border: 1px solid var(--color-brand-border);
	object-fit: cover;
}

/* Prevent horizontal overflow on mobile */
.prose {
	overflow-wrap: break-word;
	word-break: break-word;
}

.prose pre {
	overflow-x: auto;
	max-width: 100%;
}

.prose table {
	display: block;
	overflow-x: auto;
	-webkit-overflow-scrolling: touch;
	max-width: 100%;
	white-space: nowrap;
	font-size: 0.875em;
}

.prose table th,
.prose table td {
	white-space: normal;
	min-width: 80px;
}

.prose :where(code):not(:where(pre *)) {
	word-break: break-all;
}

.prose a {
	color: var(--color-brand-accent);
	text-decoration: none;
	transition: color 0.2s ease;
}

.prose a:hover {
	color: var(--color-brand-accent-light);
	text-decoration: underline;
}

/* ===== Hero fly-in animations (CSS-only for SSG LCP) ===== */

@keyframes hero-fly-in {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.hero-stagger .hero-item {
	opacity: 0;
	transform: translateY(20px);
}

.hero-stagger.mounted .hero-item {
	animation: hero-fly-in 0.6s ease-out forwards;
}

.hero-stagger.mounted .hero-item:nth-child(1) { animation-delay: 0ms; }
.hero-stagger.mounted .hero-item:nth-child(2) { animation-delay: 50ms; }
.hero-stagger.mounted .hero-item:nth-child(3) { animation-delay: 100ms; }
.hero-stagger.mounted .hero-item:nth-child(4) { animation-delay: 150ms; }

@media (prefers-reduced-motion: reduce) {
	.hero-stagger .hero-item {
		opacity: 1;
		transform: none;
	}
	.hero-stagger.mounted .hero-item {
		animation: none;
	}
}

/* ===== Resume Timeline ===== */

.timeline-container {
	position: relative;
	padding: 2rem 0;
}

.timeline-line {
	position: absolute;
	left: 50%;
	top: 0;
	bottom: 0;
	width: 2px;
	transform: translateX(-50%);
	background: linear-gradient(
		to bottom,
		transparent 0%,
		var(--color-brand-accent) 5%,
		var(--color-brand-accent) 95%,
		transparent 100%
	);
}

.timeline-entry {
	position: relative;
	display: grid;
	grid-template-columns: 1fr auto 1fr;
	gap: 2rem;
	margin-bottom: 3rem;
}

.timeline-entry:last-child {
	margin-bottom: 0;
}

.timeline-card-left {
	grid-column: 1;
	text-align: right;
}

.timeline-card-right {
	grid-column: 3;
	text-align: left;
}

.timeline-card-left .timeline-card-highlights {
	text-align: right;
}

.timeline-card-right .timeline-card-highlights {
	text-align: left;
}

.timeline-center {
	grid-column: 2;
	display: flex;
	flex-direction: column;
	align-items: center;
	z-index: 1;
}

.timeline-dot {
	width: 16px;
	height: 16px;
	border-radius: 50%;
	border: 2px solid var(--color-brand-accent);
	background: var(--color-brand-black);
	flex-shrink: 0;
}

.timeline-dot-current {
	background: var(--color-brand-accent);
	animation: timeline-pulse 2s ease-in-out infinite;
}

@keyframes timeline-pulse {
	0%, 100% {
		box-shadow: 0 0 0 0 rgba(192, 158, 90, 0.4);
	}
	50% {
		box-shadow: 0 0 0 8px rgba(192, 158, 90, 0);
	}
}

.timeline-year {
	font-family: var(--font-mono);
	font-size: 12px;
	font-weight: 400;
	text-transform: uppercase;
	letter-spacing: 0.12em;
	color: var(--color-brand-text-muted);
	margin-top: 0.5rem;
	white-space: nowrap;
	opacity: 0;
	transition: opacity 0.4s ease-out 0.2s;
}

/* Empty placeholder for alternating side */
.timeline-empty {
	grid-column: 3;
}

.timeline-card-left ~ .timeline-center ~ .timeline-empty {
	grid-column: 3;
}

/* Mobile: single column with line on the left */
@media (max-width: 767px) {
	.timeline-line {
		left: 8px;
		transform: none;
	}

	.timeline-entry {
		display: flex;
		gap: 1.5rem;
		padding-left: 0;
	}

	.timeline-center {
		flex-shrink: 0;
		width: 16px;
		order: -1;
	}

	.timeline-card-left,
	.timeline-card-right {
		text-align: left;
		flex: 1;
		min-width: 0;
	}

	.timeline-card-left .timeline-card-highlights,
	.timeline-card-right .timeline-card-highlights {
		text-align: left;
	}

	.timeline-empty {
		display: none;
	}
}

/* Timeline scroll-reveal animations */

.timeline-card-slide-left,
.timeline-card-slide-right {
	opacity: 0;
	transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.timeline-card-slide-left {
	transform: translateX(-40px);
}

.timeline-card-slide-right {
	transform: translateX(40px);
}

.timeline-dot-animate {
	transform: scale(0);
	transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Revealed state */
.timeline-revealed .timeline-card-slide-left,
.timeline-revealed .timeline-card-slide-right {
	opacity: 1;
	transform: translateX(0);
}

.timeline-revealed .timeline-dot-animate {
	transform: scale(1);
}

.timeline-revealed .timeline-year {
	opacity: 1;
}

@media (max-width: 767px) {
	.timeline-card-slide-left,
	.timeline-card-slide-right {
		transform: translateX(30px);
	}

	.timeline-revealed .timeline-card-slide-left,
	.timeline-revealed .timeline-card-slide-right {
		transform: translateX(0);
	}
}

@media (prefers-reduced-motion: reduce) {
	.timeline-dot-current {
		animation: none;
		box-shadow: 0 0 0 4px rgba(192, 158, 90, 0.3);
	}

	.timeline-card-slide-left,
	.timeline-card-slide-right {
		opacity: 1;
		transform: none;
		transition: none;
	}

	.timeline-dot-animate {
		transform: scale(1);
		transition: none;
	}

	.timeline-year {
		opacity: 1;
		transition: none;
	}
}
