# ============================================
# Blog Automation System — Environment Variables
# ============================================
#
# Copy this file to .env and fill in the values:
#   cp .env.example .env
#
# Required variables are marked with [REQUIRED].
# Optional variables have sensible defaults shown.
#
# The system validates all configuration at startup and will
# report any missing or invalid values before the scheduler runs.
# ============================================


# ─────────────────────────────────────────────
# ANTHROPIC (Claude AI)                [REQUIRED]
# ─────────────────────────────────────────────
# Get your API key at https://console.anthropic.com/
# Starts with "sk-ant-"
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Claude model to use for content generation and research analysis
# See: https://docs.anthropic.com/en/docs/about-claude/models
CLAUDE_MODEL=claude-sonnet-4-20250514

# Maximum tokens per API response (higher = longer/more detailed output)
MAX_TOKENS=4096


# ─────────────────────────────────────────────
# DATABASE (PostgreSQL)                [REQUIRED]
# ─────────────────────────────────────────────
# Full PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL=postgresql://user:password@localhost:5432/blog_automation?schema=public


# ─────────────────────────────────────────────
# WEBSITE / CMS PUBLISHING             [REQUIRED]
# ─────────────────────────────────────────────
# Platform type: "wordpress", "custom", or "static"
#   wordpress — WordPress REST API v2
#   custom    — Generic REST API (POST/PUT/DELETE)
#   static    — Git-based static site (GitHub API)
WEBSITE_TYPE=wordpress

# Base API URL for your CMS
#   WordPress:  https://umesh-malik.com/wp-json/wp/v2
#   Custom:     https://api.umesh-malik.com/posts
#   Static:     https://api.github.com (auto-configured)
WEBSITE_API_URL=https://umesh-malik.com/wp-json/wp/v2

# API key or bearer token (used by custom adapter, also serves as fallback)
WEBSITE_API_KEY=your-website-api-key

# ── WordPress-specific (required when WEBSITE_TYPE=wordpress) ──
WP_USERNAME=admin
WP_APP_PASSWORD=xxxx xxxx xxxx xxxx xxxx xxxx

# ── Static site / GitHub (required when WEBSITE_TYPE=static) ──
# Repository in "owner/repo" format
# GIT_REPO_URL=umesh-malik/umesh-malik.com
# GIT_BRANCH=main
# GIT_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx

# ── Publishing behaviour ──
# Set to true to simulate publishing without making actual changes
PUBLISH_DRY_RUN=false
# HTTP request timeout for CMS API calls (in milliseconds)
PUBLISH_TIMEOUT=30000


# ─────────────────────────────────────────────
# SCHEDULING
# ─────────────────────────────────────────────
# Number of blog posts to generate per day (1-10)
POSTS_PER_DAY=2

# Publishing time window — posts are scheduled at random times
# between these hours (0-23) in SCHEDULE_TIMEZONE
SCHEDULE_WINDOW_START=9
SCHEDULE_WINDOW_END=21

# Minimum hours between two scheduled posts (prevents clustering)
MIN_POST_SPACING_HOURS=4

# Skip generating posts on Saturdays and Sundays
SKIP_WEEKENDS=false

# IANA timezone for the scheduling window
# Examples: America/New_York, America/Chicago, UTC, Europe/London
SCHEDULE_TIMEZONE=America/New_York

# Cron expression: when to run daily content generation
# Default: 2:00 AM server time (gives posts time to generate before the window opens)
GENERATION_CRON=0 2 * * *

# Cron expression: how often to check for posts due to publish
# Default: every hour on the hour
PUBLISH_CHECK_CRON=0 * * * *

# Port for the HTTP health-check and status dashboard endpoints
#   GET /health  — lightweight health check
#   GET /status  — rich status dashboard
HEALTH_CHECK_PORT=3000


# ─────────────────────────────────────────────
# CONTENT SETTINGS
# ─────────────────────────────────────────────
# Default language for generated content (ISO 639-1)
DEFAULT_LANGUAGE=en

# Word count range for generated blog posts (excluding code blocks)
# The AI will be prompted to stay within this range
MIN_WORD_COUNT=1500
MAX_WORD_COUNT=2500


# ─────────────────────────────────────────────
# APPLICATION
# ─────────────────────────────────────────────
# Environment: development, production, test
NODE_ENV=development

# Winston log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
