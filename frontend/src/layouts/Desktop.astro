---
import "../styles/global.css";
import { getYearsOfExperience } from "../data/dynamic";

interface Props {
  title: string;
  description?: string;
  currentPage: string;
  keywords?: string;
}

const {
  title,
  description = `Umesh Malik â€” Senior Frontend Engineer at Expedia Group with ${getYearsOfExperience()}+ years of experience in React, TypeScript, JavaScript, and full-stack web development. Explore his portfolio, projects, skills, and professional journey.`,
  currentPage,
  keywords = "Umesh Malik, umesh, malik, frontend engineer, senior frontend engineer, React developer, TypeScript developer, JavaScript developer, full-stack developer, Expedia Group, web developer India, Gurugram developer, software engineer portfolio",
} = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const siteUrl = "https://umesh-malik.com";
const ogImageUrl = `${siteUrl}/og-image.png`;
const years = getYearsOfExperience();

// JSON-LD Structured Data for Person (appears as rich result in Google)
const personSchema = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "Person",
  name: "Umesh Malik",
  url: siteUrl,
  image: ogImageUrl,
  jobTitle: "Senior Frontend Engineer",
  worksFor: {
    "@type": "Organization",
    name: "Expedia Group",
    url: "https://www.expediagroup.com",
  },
  description: `Senior Frontend Engineer with ${years}+ years of experience building scalable web applications using React, TypeScript, and modern frontend technologies.`,
  email: "lucky.umeshmalik@gmail.com",
  address: {
    "@type": "PostalAddress",
    addressLocality: "Gurugram",
    addressRegion: "Haryana",
    addressCountry: "IN",
  },
  alumniOf: {
    "@type": "CollegeOrUniversity",
    name: "Deenbandhu Chhotu Ram University of Science and Technology",
  },
  sameAs: [
    "https://linkedin.com/in/umesh-malik",
    "https://github.com/Umeshmalik",
    siteUrl,
  ],
  knowsAbout: [
    "React",
    "TypeScript",
    "JavaScript",
    "Next.js",
    "Node.js",
    "Frontend Engineering",
    "Full-Stack Development",
    "Web Performance",
    "Tailwind CSS",
    "Three.js",
    "REST APIs",
    "MongoDB",
    "PostgreSQL",
  ],
});

// WebSite schema for sitelinks search box
const websiteSchema = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "WebSite",
  name: "Umesh Malik â€” Senior Frontend Engineer",
  alternateName: ["Umesh Malik Portfolio", "Umesh Malik"],
  url: siteUrl,
  description: `Portfolio website of Umesh Malik, a Senior Frontend Engineer at Expedia Group specializing in React, TypeScript, and modern web development.`,
  author: {
    "@type": "Person",
    name: "Umesh Malik",
  },
});
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />

    <!-- Primary SEO Meta Tags -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <meta name="author" content="Umesh Malik" />
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <link rel="canonical" href={canonicalURL} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={canonicalURL} />
    <meta
      property="og:site_name"
      content="Umesh Malik â€” Senior Frontend Engineer"
    />
    <meta property="og:image" content={ogImageUrl} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:image:alt"
      content="Umesh Malik â€” Senior Frontend Engineer at Expedia Group"
    />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImageUrl} />
    <meta
      name="twitter:image:alt"
      content="Umesh Malik â€” Senior Frontend Engineer at Expedia Group"
    />

    <!-- Additional SEO -->
    <meta
      name="subject"
      content="Portfolio of Umesh Malik, Senior Frontend Engineer"
    />
    <meta name="rating" content="general" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json" set:html={personSchema} />
    <script type="application/ld+json" set:html={websiteSchema} />

    <!-- Easter Egg for developers who view source -->
    <meta
      name="crafted-with"
      content="Cursor AI + Claude | Vibe-coded by Umesh Malik"
    />
    <!--
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                                                              â•‘
    â•‘     _   _ _ __ ___   ___  ___| |__                           â•‘
    â•‘    | | | | '_ ` _ \ / _ \/ __| '_ \                          â•‘
    â•‘    | |_| | | | | | |  __/\__ \ | | |                         â•‘
    â•‘     \__,_|_| |_| |_|\___||___/_| |_|                         â•‘
    â•‘                                                              â•‘
    â•‘   Hey, fellow developer! ðŸ‘‹                                  â•‘
    â•‘   You found the source code easter egg!                      â•‘
    â•‘                                                              â•‘
    â•‘   This portfolio was vibe-coded using                        â•‘
    â•‘   Cursor AI + Claude in a single session.                    â•‘
    â•‘                                                              â•‘
    â•‘   Tech: Astro + React 19 + TypeScript + Three.js + GSAP     â•‘
    â•‘   Source: github.com/Umeshmalik                              â•‘
    â•‘   Website: umesh-malik.com                                    â•‘
    â•‘                                                              â•‘
    â•‘   Want to hire me? Head to the Contact page! ðŸ“§              â•‘
    â•‘                                                              â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -->

    <!-- Preconnect for fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Preload critical fonts to reduce CLS and speed up FCP -->
    <link
      rel="preload"
      href="https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2isRFJXGdg.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nVivM.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="https://fonts.gstatic.com/s/ibmplexmono/v20/-F63fjptAgt5VM-kVkqdyU8n1i8q1w.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
  </head>
  <body>
    <div id="desktop-root">
      <slot />
    </div>
  </body>
</html>
