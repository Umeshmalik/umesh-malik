---
import Desktop from "../layouts/Desktop.astro";
import DesktopApp from "../components/DesktopApp";
import DraggableWindow from "../components/windows/DraggableWindow";
import ExperienceContent from "../components/pages/ExperienceContent";
import { experiences, personalInfo } from "../data/resume";
import { getYearsOfExperience } from "../data/dynamic";

const years = getYearsOfExperience();
const rawBase = import.meta.env.BASE_URL;
const basePath = rawBase.endsWith('/') ? rawBase : `${rawBase}/`;
---

<Desktop
  title={`Umesh Malik â€” ${years}+ Years of Work Experience | Expedia Group, Tekion Corp, BYJU'S`}
  description={`Explore ${years}+ years of professional experience of Umesh Malik â€” currently SDE-2 at Expedia Group building enterprise workflow orchestration, previously Software Engineer at Tekion Corp and Module Lead at BYJU'S. Expert in React, TypeScript, frontend architecture, and scalable web applications.`}
  keywords="Umesh Malik experience, Umesh Malik resume, Umesh Malik work history, Umesh Malik Expedia Group, Umesh Malik Tekion, Umesh Malik BYJU'S, frontend engineer experience, SDE-2 Expedia, software engineer career, React developer experience"
  currentPage="experience"
>
  <DesktopApp currentPage="experience" client:load>
    <DraggableWindow
      title="career.exe - Professional Experience"
      icon="ðŸ’¼"
      defaultWidth={750}
      defaultHeight={550}
      closeHref={basePath}
      client:load
    >
      <ExperienceContent client:load />
    </DraggableWindow>
  </DesktopApp>

  <article slot="seo-content">
    <h1>Work Experience of Umesh Malik â€” {years}+ Years in Frontend Engineering</h1>
    <p>Umesh Malik has {years}+ years of professional experience across leading technology companies including Expedia Group, Tekion Corp, and BYJU's. His career demonstrates a strong trajectory from Associate Software Engineer to SDE-2, with expertise in React, TypeScript, and enterprise-scale frontend development.</p>

    {experiences.map((exp) => (
      <section>
        <h2>{exp.role} at {exp.company}</h2>
        <p><strong>Period:</strong> {exp.period} | <strong>Location:</strong> {exp.location}</p>
        <h3>Key Achievements & Responsibilities</h3>
        <ul>
          {exp.highlights.map((h) => <li>{h}</li>)}
        </ul>
      </section>
    ))}

    <section>
      <h2>Career Timeline</h2>
      <p>July 2021 â€” Present: {years}+ years of progressive growth from Associate Engineer to Senior Frontend Engineer across fintech, automotive, and travel technology domains.</p>
      <p>Looking to connect? <a href={`${basePath}contact/`}>Contact Umesh Malik</a> or visit his <a href={personalInfo.linkedin}>LinkedIn profile</a>.</p>
    </section>
  </article>
</Desktop>
